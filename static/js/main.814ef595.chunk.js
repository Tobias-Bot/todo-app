(this["webpackJsonpjust-todo-it"]=this["webpackJsonpjust-todo-it"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.c88cdb0e.png"},,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(7),o=a.n(r),i=(a(15),a(16),a(9)),l=a(2),c=a(3),m=a(1),p=a(5),u=a(4),h=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={title:s.props.task.title,description:s.props.task.description,color:s.props.task.color,isImportant:s.props.task.isImportant},s.colorInput=n.a.createRef(),s.taskText=n.a.createRef(),s.taskTitle=n.a.createRef(),s.deleteTask=s.deleteTask.bind(Object(m.a)(s)),s.ChangeTitle=s.ChangeTitle.bind(Object(m.a)(s)),s.ChangeColor=s.ChangeColor.bind(Object(m.a)(s)),s.changeStatus=s.changeStatus.bind(Object(m.a)(s)),s.colorInputClick=s.colorInputClick.bind(Object(m.a)(s)),s.ChangeDescription=s.ChangeDescription.bind(Object(m.a)(s)),s}return Object(c.a)(a,[{key:"colorInputClick",value:function(){this.colorInput.current.click()}},{key:"ChangeTitle",value:function(e){var t=this,a={title:e.target.value,description:this.props.task.description,color:this.props.task.color,isImportant:this.props.task.isImportant};this.setState(a,(function(){t.props.onTaskChange(t.state,t.props.index)}))}},{key:"ChangeDescription",value:function(e){var t=this,a={title:this.props.task.title,description:e.target.value,color:this.props.task.color,isImportant:this.props.task.isImportant};this.setState(a,(function(){t.props.onTaskChange(t.state,t.props.index)}))}},{key:"ChangeColor",value:function(e){var t=this,a={title:this.props.task.title,description:this.props.task.description,color:e.target.value,isImportant:this.props.task.isImportant};this.setState(a,(function(){t.props.onTaskChange(t.state,t.props.index)}))}},{key:"changeStatus",value:function(){var e=this,t={title:this.props.task.title,description:this.props.task.description,color:this.props.task.color,isImportant:!this.props.task.isImportant};this.setState(t,(function(){e.props.onTaskChange(e.state,e.props.index)}))}},{key:"deleteTask",value:function(){this.props.onTaskDelete(this.props.index)}},{key:"render",value:function(){var e={backgroundColor:this.props.task.color},t=this.props.task.isImportant?n.a.createElement("i",{className:"fas fa-star"}):n.a.createElement("i",{className:"far fa-star"});return n.a.createElement("div",{className:"task",style:e},n.a.createElement("div",{className:"taskMainInfo"},n.a.createElement("textarea",{className:"taskTitle",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",rows:"2",ref:this.taskTitle,value:this.props.task.title,onChange:this.ChangeTitle}),n.a.createElement("textarea",{className:"taskText",placeholder:"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",rows:"4",ref:this.taskText,value:this.props.task.description,onChange:this.ChangeDescription})),n.a.createElement("div",{className:"taskSettings"},n.a.createElement("div",{className:"btnOption",onClick:this.deleteTask},n.a.createElement("i",{className:"fas fa-times-circle"})),n.a.createElement("div",{className:"btnOption",onClick:this.colorInputClick},n.a.createElement("i",{className:"fas fa-palette"})),n.a.createElement("div",{className:"btnOption",onClick:this.changeStatus},t),n.a.createElement("input",{type:"color",ref:this.colorInput,hidden:!0,onChange:this.ChangeColor})))}}]),a}(n.a.Component),d=a(8),k=a.n(d),f=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).deleteTask=function(e){var t=s.state.tasks;t.splice(e,1),s.setState({tasks:t})},s.state={tasks:[],showImportant:!1,theme:"white"},s.items=[],s.createNewTask=s.createNewTask.bind(Object(m.a)(s)),s.UpdateTask=s.UpdateTask.bind(Object(m.a)(s)),s.showTasks=s.showTasks.bind(Object(m.a)(s)),s.renderTasks=s.renderTasks.bind(Object(m.a)(s)),s.turnSwitcher=s.turnSwitcher.bind(Object(m.a)(s)),s.sortTasksByImportant=s.sortTasksByImportant.bind(Object(m.a)(s)),s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getFromDB({store:"ToDoList",key:"tasks"});var e=localStorage.getItem("AppTheme");this.setState((function(t){return{theme:e}}))}},{key:"turnSwitcher",value:function(){var e=this.state.theme;e="black"===e?"white":"black",this.setState((function(t){return{theme:e}})),localStorage.setItem("AppTheme",e)}},{key:"componentDidUpdate",value:function(){var e={store:"ToDoList",key:"tasks",data:this.state.tasks};this.updateDB(e)}},{key:"updateDB",value:function(e){var t=indexedDB.open(e.store,1);t.onupgradeneeded=function(){var a=t.result;a.objectStoreNames.contains(e.store)||a.createObjectStore(e.store)},t.onerror=function(){console.error("Can't create DB",t.error)},t.onsuccess=function(){t.result.transaction(e.store,"readwrite").objectStore(e.store).put(e.data,e.key)}}},{key:"getFromDB",value:function(e){var t=this,a=indexedDB.open(e.store,1);a.onupgradeneeded=function(){var t=a.result;t.objectStoreNames.contains(e.store)||t.createObjectStore(e.store)},a.onerror=function(){console.error("Can't create DB",a.error)},a.onsuccess=function(){var s=a.result.transaction(e.store,"readonly"),n=s.objectStore(e.store).get(e.key);s.oncomplete=function(){n.result&&(t.setState({tasks:n.result}),t.tasks=n.result)}}}},{key:"createNewTask",value:function(){var e=[{title:"",description:"",color:"#fff",isImportant:this.state.showImportant}];this.setState((function(t){return{tasks:[].concat(Object(i.a)(t.tasks),e)}}))}},{key:"UpdateTask",value:function(e,t){var a=this.state.tasks;a[t]=e,this.setState({tasks:a})}},{key:"sortTasksByImportant",value:function(){var e=this;this.items=this.state.tasks.map((function(t,a){return t.isImportant&&n.a.createElement(h,{key:a,task:t,index:a,onTaskChange:e.UpdateTask,onTaskDelete:e.deleteTask})}))}},{key:"showTasks",value:function(){var e=this;this.items=this.state.tasks.map((function(t,a){return n.a.createElement(h,{key:a,task:t,index:a,onTaskChange:e.UpdateTask,onTaskDelete:e.deleteTask})}))}},{key:"renderTasks",value:function(){var e=this.state.showImportant;this.setState({showImportant:!e})}},{key:"render",value:function(){var e="",t="";this.state.showImportant?(this.sortTasksByImportant(),t=n.a.createElement("span",null,"\u0432\u0430\u0436\u043d\u044b\u0435: ",n.a.createElement("b",null,this.items.filter((function(e){return e})).length)),e=n.a.createElement("i",{className:"fas fa-star"})):(this.showTasks(),t=n.a.createElement("span",null,"\u0437\u0430\u043c\u0435\u0442\u043a\u0438: ",n.a.createElement("b",null,this.items.length)),e=n.a.createElement("i",{className:"far fa-star"}));var a=this.state.theme,s="black"===this.state.theme?n.a.createElement("i",{className:"fas fa-toggle-on"}):n.a.createElement("i",{className:"fas fa-toggle-off"}),r=["BackGround","infoBar","logoText","source","mainBtns"];return"black"===a&&(r=r.map((function(e){return"".concat(e," ").concat(e,"Black")}))),console.log(r),n.a.createElement("div",null,n.a.createElement("div",{className:"modal fade",id:"InfoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"InfoBackground"},"\u0421\u0434\u0435\u043b\u0430\u043d\u043e \u0441 \u2764 \u0432 \u043f\u0430\u0431\u043b\u0438\u043a\u0435 \u041c\u0430\u0439",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("img",{className:"logo",src:k.a,alt:"May logo"}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c, \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0441 \u043d\u0430\u043c\u0438 \u043f\u043e\u0431\u043e\u043b\u0442\u0430\u0442\u044c? \u041d\u0430\u043f\u0438\u0448\u0438 \u043d\u0430\u043c!",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{className:"btnGoToMay"},n.a.createElement("a",{className:"linkInBtn",href:"https://vk.com/im?sel=-160404048"},"\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c")),n.a.createElement("br",null),n.a.createElement("br",null)))))),n.a.createElement("div",{className:r[0]},n.a.createElement("div",{className:r[1]},t,n.a.createElement("div",{className:"ThemeSwitcher",onClick:this.turnSwitcher},s)),n.a.createElement("div",{className:"TaskList"},this.items),n.a.createElement("div",{className:r[4]},n.a.createElement("div",{className:"btnMains","data-toggle":"modal","data-target":"#InfoModal"},n.a.createElement("i",{className:"fas fa-info"})),n.a.createElement("div",{className:"btnMains",onClick:this.renderTasks},e),n.a.createElement("div",{className:"btnMains",onClick:this.createNewTask},n.a.createElement("i",{className:"fas fa-plus"})))))}}]),a}(n.a.Component);var v=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.814ef595.chunk.js.map